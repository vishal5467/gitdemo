if (self.CavalryLogger) { CavalryLogger.start_js(["IMbnh"]); }

__d("tickerPhoteSnowLiftOpenStatus",["ArbiterMixin"],(function a(b,c,d,e,f,g){var h="CheckIsOpen",i={registerOpenChecker:function j(k){return i.subscribe(h,function(l,m){if(k())m.is_Open=true})},checkIsOpen:function j(){var k={is_Open:false};i.inform(h,k);return k.is_Open}};Object.assign(i,c("ArbiterMixin"));f.exports=i}),null);
__d("SpotlightViewerLoggingEvents",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LOADED:"loaded",LOADING:"loading",ERROR:"error",ABORT:"abort",OPEN_BEGIN:"open_begin",OPEN_COMPLETE:"open_complete",CLOSE_BEGIN:"close_begin",CLOSE_COMPLETE:"close_complete",PAGE_BEGIN:"page_begin",PAGE_COMPLETE:"page_complete",PHOTO_CHANGE_BEGIN:"photo_change_begin",PHOTO_CHANGE_COMPLETE:"photo_change_complete",DATA_FETCH_BEGIN:"data_fetch_begin",DATA_FETCH_COMPLETE:"data_fetch_complete",PHOTO_FETCH:"photo_fetch"})}),null);
__d("PhotoLogger",["Event","Banzai","BanzaiScuba","SpotlightViewerLoggingEvents","SubscriptionsHandler"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$PhotoLogger1=i;this.$PhotoLogger2={}}h.prototype.log=function(i,j,k,l){"use strict";c("Banzai").post("profile_photos_view",{photo_fbid:j,source:k,profile_id:l});if(!this.$PhotoLogger2[i]){this.$PhotoLogger3(i);this.$PhotoLogger2[i]=true}};h.prototype.$PhotoLogger3=function(i){"use strict";__p&&__p();this.$PhotoLogger4(c("SpotlightViewerLoggingEvents").LOADING,{uri:i});var j=new(c("SubscriptionsHandler"))(),k=new Image();j.addSubscriptions(c("Event").listen(k,"load",function(){this.$PhotoLogger4(c("SpotlightViewerLoggingEvents").LOADED,{uri:i});j.release()}.bind(this)),c("Event").listen(k,"error",function(){this.$PhotoLogger4(c("SpotlightViewerLoggingEvents").ERROR,{uri:i});j.release()}.bind(this)),c("Event").listen(k,"abort",function(){this.$PhotoLogger4(c("SpotlightViewerLoggingEvents").ABORT,{uri:i});j.release()}.bind(this)));k.src=i};h.prototype.logEvent=function(i){"use strict";this.$PhotoLogger4(i)};h.prototype.$PhotoLogger4=function(i,j){"use strict";var k=new(c("BanzaiScuba"))("photos_client_loading",null,{addBrowserFields:true});k.addNormal("event",i);k.addNormal("viewer",this.$PhotoLogger1);for(var l in j)k.addNormal(l,j[l]);k.post()};f.exports=h}),null);
__d("PhotoViewer",["Bootloader","CSS","DOM"],(function a(b,c,d,e,f,g){__p&&__p();function h(){"use strict";this.image=null;this.root=null;this.stream=null}h.prototype.getEventString=function(i){"use strict";var j=this.getEventPrefix();if(j)return j+"."+i;return null};h.prototype.getImage=function(){"use strict";return this.image};h.prototype.getPosition=function(){"use strict";return this.stream?this.stream.getCursor():null};h.prototype.getRoot=function(){"use strict";return this.root};h.prototype.hiliteAllBoxes=function(){"use strict";c("DOM").scry(this.stageWrapper,"div.tagsWrapper div.faceBox").forEach(function(i){c("CSS").addClass(i,"otherActive")});c("DOM").scry(this.stageWrapper,"div.tagsWrapper div.fbPhotosPhotoTagboxBaseComments").forEach(function(i){c("CSS").addClass(i,"otherActive")})};h.prototype.getEventPrefix=function(){"use strict";return null};h.prototype.getSourceString=function(){"use strict";return null};h.prototype.getVersionConst=function(){"use strict";return null};h.prototype.getViewerSource=function(){"use strict";return null};h.prototype.getViewerSet=function(){"use strict";return null};h.bootstrap=function(i,j){"use strict";c("Bootloader").loadModules(["PhotoSnowlift"],function(k){k.bootstrap(i,j)},"PhotoViewer")};f.exports=h}),null);
__d("ReactComponentRenderer",["React","ReactDOM","warning"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i,j){this.klass=i;this.container=j;this.props={};this.component=null}h.prototype.replaceProps=function(i,j){this.props={};this.setProps(i,j)};h.prototype.setProps=function(i,j){if(this.klass==null)return;Object.assign(this.props,i);var k=c("React").createElement(this.klass,this.props),l=this;c("ReactDOM").render(k,this.container,function(){l.component=this;if(j)j.call(this)})};h.prototype.unmount=function(){c("ReactDOM").unmountComponentAtNode(this.container);this.klass=null};f.exports=h}),null);