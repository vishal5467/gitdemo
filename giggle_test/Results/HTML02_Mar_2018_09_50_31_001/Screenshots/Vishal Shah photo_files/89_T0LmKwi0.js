if (self.CavalryLogger) { CavalryLogger.start_js(["yW8MV"]); }

__d("NotifType",[],(function a(b,c,d,e,f,g){f.exports={LIKE:"like",OPEN_GRAPH_ACTION_LIKE:"open_graph_action_like",LIKE_TAGGED:"like_tagged",PAGE_FAN:"page_fan",IG_MEDIA_LIKE:"ig_media_like",FEEDBACK_REACTION_GENERIC:"feedback_reaction_generic",FEEDBACK_REACTION_GENERIC_TAGGED:"feedback_reaction_generic_tagged",MESSENGER_REACTIONS:"messenger_reactions",MARKETPLACE_RECEIVED_RATING:"marketplace_received_rating",MARKETPLACE_RECEIVED_RATING_COMPLETED:"marketplace_received_rating_completed"}}),null);
__d("NotificationBucketUtils",["JSResource"],(function a(b,c,d,e,f,g){"use strict";var h={getCustomModuleForType:function i(j){switch(j){case"TICKER":return c("JSResource")("NotificationBucketTicker.react").__setRef("NotificationBucketUtils");default:return null}}};f.exports=h}),null);
__d("NotificationGenericBucket",["NotificationSeenState"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$NotificationGenericBucket2=[];this.$NotificationGenericBucket3={};this.$NotificationGenericBucket4={};this.$NotificationGenericBucket7=function(j,k){var l=this.$NotificationGenericBucket4[j],m=this.$NotificationGenericBucket4[k];return Number(m)-Number(l)}.bind(this);this.$NotificationGenericBucket1=i}h.prototype.reset=function(){this.$NotificationGenericBucket2=[];this.$NotificationGenericBucket3={};this.$NotificationGenericBucket4={}};h.prototype.getType=function(){return this.$NotificationGenericBucket1.bucket_type};h.prototype.getTitle=function(){return this.$NotificationGenericBucket1.title};h.prototype.getSortedIDs=function(){return this.$NotificationGenericBucket2.slice()};h.prototype.insertIfEligible=function(i){var j=this.$NotificationGenericBucket5(i);if(!j.eligible)return j;this.$NotificationGenericBucket6(i);return{eligible:true}};h.prototype.remove=function(i){if(!this.$NotificationGenericBucket3[i])return false;delete this.$NotificationGenericBucket3[i];delete this.$NotificationGenericBucket4[i];var j=this.$NotificationGenericBucket2.indexOf(i);j>-1&&this.$NotificationGenericBucket2.splice(j,1);return true};h.prototype.$NotificationGenericBucket6=function(i){__p&&__p();var j=i.alert_id;if(this.$NotificationGenericBucket3[j])return true;this.$NotificationGenericBucket2.push(j);this.$NotificationGenericBucket3[j]=true;var k=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.sort_key_index);if(k>-1){var l=i.sort_keys?i.sort_keys[k]:null;if(l){this.$NotificationGenericBucket4[j]=l;this.$NotificationGenericBucket9()}}return true};h.prototype.$NotificationGenericBucket9=function(){this.$NotificationGenericBucket2.sort(this.$NotificationGenericBucket7)};h.prototype.$NotificationGenericBucket5=function(i){__p&&__p();if(!this.$NotificationGenericBucket10(i))return{eligible:false,type:"bucket",data:i.eligible_buckets};if(!this.$NotificationGenericBucket11(i))return{eligible:false,type:"exp_time"};if(!this.$NotificationGenericBucket12(i))return{eligible:false,type:"seen_filter"};if(!this.$NotificationGenericBucket13(i))return{eligible:false,type:"max_count"};if(!this.$NotificationGenericBucket14(i))return{eligible:false,type:"seen_evict",data:this.$NotificationGenericBucket15(i)};if(!this.$NotificationGenericBucket16(i))return{eligible:false,type:"read_evict"};return{eligible:true}};h.prototype.$NotificationGenericBucket8=function(i){return Number.isInteger(i)?Number(i):-1};h.prototype.$NotificationGenericBucket10=function(i){if(!i.eligible_buckets)return false;return i.eligible_buckets.includes(this.getType())};h.prototype.$NotificationGenericBucket12=function(i){return c("NotificationSeenState").validateFilter(i.alert_id,this.$NotificationGenericBucket1.seen_filter)};h.prototype.$NotificationGenericBucket11=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.min_to_expire);return j===-1?true:Date.now()-i.creation_time<j*60*1e3};h.prototype.$NotificationGenericBucket13=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.max_count);return j===-1?true:this.$NotificationGenericBucket2.length<j};h.prototype.$NotificationGenericBucket15=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.sec_to_evict_seen);return{secToEvict:j,firstTime:i.first_seen_time||0,currentTime:Date.now()/1e3}};h.prototype.$NotificationGenericBucket17=function(i){var j=this.$NotificationGenericBucket8(this.$NotificationGenericBucket1.sec_to_evict_read);return{secToEvict:j,firstTime:i.first_read_time||0,currentTime:Date.now()/1e3}};h.prototype.$NotificationGenericBucket18=function(i){var j=i.secToEvict,k=i.firstTime,l=i.currentTime;return j===-1||k===0?true:l-k<j};h.prototype.$NotificationGenericBucket14=function(i){return this.$NotificationGenericBucket18(this.$NotificationGenericBucket15(i))};h.prototype.$NotificationGenericBucket16=function(i){return this.$NotificationGenericBucket18(this.$NotificationGenericBucket17(i))};h.prototype.$NotificationGenericBucket19=function(i){return true};f.exports=h}),null);
__d("NotificationBucketStore",["Arbiter","Banzai","JSLogger","NotificationBucketUtils","NotificationConstants","NotificationGenericBucket","NotificationsBucketList","NotificationsDefaultEndpointURI","NotificationSeenState","NotificationStore","NotificationUpdates"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("NotificationConstants").PayloadSourceType,i=[],j={},k={},l=[],m=false,n={},o={},p="notif_jewel_buckets",q=function q(){if(m)return;m=true;c("NotificationsBucketList").buckets.forEach(function(D){D.bucket_type=D.bucket_type.toUpperCase();var E=new(c("NotificationGenericBucket"))(D);i.push(E);j[E.getType()]=E});A()},r=function r(){l=i.map(function(D){return{ids:D.getSortedIDs(),title:D.getTitle()||"",bucketType:D.getType()}})},s=function s(D){__p&&__p();for(var E=0,F=i.length;E<F;E++){var G=i[E],H=G.insertIfEligible(D),I=D.alert_id;if(!n[I])n[I]=[];n[I].push({bucket:G.getType(),result:H});if(H.eligible){u(D,G);return G.getType()}}return null},t=function t(D,E){var F="PRIORITY_INBOX";if(!j[F]||E.getType()===F)return;var G=D.alert_id;if(o[G]||D.creation_time>Date.now()/1e3-60*60){var H=n[G],I={notif_data:{alert_id:D.alert_id.split(":")[1],creation_time:D.creation_time,eligible_buckets:D.eligible_buckets,first_seen_time:D.first_seen_time,notif_type:D.notif_type,seen_state:D.seen_state,sort_keys:D.sort_keys},eviction_data:H,was_live_send:o[G]===true};c("Banzai").post(p,{event_type:"bucketing_error",data:I})}},u=function u(D,E){k[D.alert_id]=E.getType();t(D,E)},v=function v(D,E){delete k[D.alert_id]},w=function w(D){var E=D.alert_id,F=x(E);if(F){var G=y(F);if(G){G.remove(E);v(D,G)}}s(D)},x=function x(D){return k[D]},y=function y(D){return j[D]},z=function z(){k={};i.forEach(function(D){return D.reset()});n={};r()},A=function A(){var D=c("NotificationStore").getAll({endpointURI:c("NotificationsDefaultEndpointURI")});B(Object.keys(D).map(function(E){return D[E]}))},B=function B(D){D.forEach(w);r()};c("NotificationUpdates").subscribe("update-notifications",function(D,E){__p&&__p();if(!E.nodes||E.nodes.length===0)return;if(E.payloadsource===h.LIVE_SEND){E.nodes.forEach(function(F){return o[F.alert_id]=true});z();A()}else if(E.nodes)B(E.nodes)});c("Arbiter").subscribe(c("JSLogger").DUMP_EVENT,function(D,E){E.notifs_bucket_data={bucketInfo:l,data:l.reduce(function(F,E){var G=E.ids.map(function(H){return{id:H,results:n[H]}});return[].concat(F,G)},[])}});q();var C={getBucketListData:function D(){return l},isEmptyBucketListData:function D(){var E=l.reduce(function(F,G){return F+G.ids.length},0);return E===0}};f.exports=C}),null);
__d("NotificationHiddenState",["NotificationConstants","NotificationUpdates","isEmpty"],(function a(b,c,d,e,f,g){__p&&__p();var h={};c("NotificationUpdates").subscribe("update-notifications",function(j,k){__p&&__p();var l,m=k.nodes,n=k.payloadsource;if(n===c("NotificationConstants").PayloadSourceType.LIVE_SEND&&m&&m.length)(function(){var o={};m.forEach(function(p){var q=p.alert_id;if(h[q])o[q]=false});if(!c("isEmpty")(o)){h=Object.assign(h,o);c("NotificationUpdates").didUpdateHiddenState(Object.keys(o))}})()});c("NotificationUpdates").subscribe("update-hidden",function(j,k){if(k.hiddenState){var l=k.hiddenState;h=Object.assign(h,l);c("NotificationUpdates").didUpdateHiddenState(Object.keys(l))}});var i={isHidden:function j(k){if(h[k])return h[k];return false}};f.exports=i}),null);
__d("NotificationTracking",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={},j={getEncodedTrackingData:function k(l,m){return this._getTrackingInfo(l,m).encoded},getTrackingString:function k(l,m){return this._getTrackingInfo(l,m).raw},_getTrackingInfo:function k(l,m){var n=""+l.alert_id,o=i[n];if(o&&o.row===m)return o;var p=this._getEncodedTrackingDataWithRow(l,m);i[n]={row:m,encoded:p,raw:JSON.stringify(p)};return i[n]},_getTrackingAsObject:function k(l){var m=null,n=null;if(l.tracking)try{m=JSON.parse(l.tracking)}catch(o){n=o}if(m===null||n!==null||typeof m!=="object")h(0);return m},_getEncodedTrackingDataWithRow:function k(l,m){var n=this._getTrackingAsObject(l);if(m!="undefined"&&typeof m==="number")return babelHelpers["extends"]({},n,{row:m});return n}};f.exports=j}),null);
__d("NotificationAttachment.react",["cx","Image.react","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=this.props.image;if(!l)return c("React").createElement("span",null);return c("React").createElement(c("Image.react"),{src:l.uri,className:"_42td","aria-hidden":true})};function k(){i.apply(this,arguments)}f.exports=k}),null);
__d("NotificationFooter.react",["cx","BizSiteIdentifier.brands","Fragment.react","Image.react","ImageBlock.react","React","Timestamp.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("BizSiteIdentifier.brands").isBizSite();i=babelHelpers.inherits(l,c("React").PureComponent);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.icon,o=m.metadata,p=m.shortenTimestamp,q=m.timestamp,r="_33f"+(k?" _2g48":""),s=n?c("React").createElement(c("Image.react"),{className:"_10cu",src:n.uri}):null,t=c("React").createElement(c("Timestamp.react"),babelHelpers["extends"]({className:"_33g",shorten:p},q));if(o)if(s)return c("React").createElement(c("ImageBlock.react"),{className:r},s,c("React").createElement(c("Fragment.react"),null,o," \xb7 ",t));else return c("React").createElement("div",{className:r},o," \xb7 ",t);else if(s)return c("React").createElement(c("ImageBlock.react"),{className:r},s,t);else return c("React").createElement("div",{className:r},t)};function l(){i.apply(this,arguments)}f.exports=l}),null);
__d("NotificationVPVs",["MarauderLogger","Set","getElementRect"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=new(c("Set"))();function i(o){if(j(o))return;c("MarauderLogger").log("notifications_vpv",undefined,null,"notification",o);h.add(o)}function j(o){return h.has(o)}function k(){h.clear()}function l(o,p){if(!o||!p)return false;return!(o.bottom<p.top||o.top>p.bottom||o.right<p.left||o.left>p.right)}function m(o){var p=c("getElementRect")(o);if(!p||p.top==0&&p.bottom==0&&p.left==0&&p.right==0)return null;return p}var n={logImpression:i,clearImpressions:k,hasLoggedImpression:j,getValidatedRectangle:m,areRectsOverlapping:l};f.exports=n}),null);
__d("NotificationList.react",["Arbiter","FunnelLogger","NotificationBucketStore","NotificationConstants","NotificationHiddenState","NotificationJewelFunnelLoggingConstants","NotificationListConfig","NotificationsDefaultEndpointURI","NotificationSeenState","NotificationStore","NotificationUpdates","NotificationUserActions","NotificationVPVs","NotifType","React","SubscriptionsHandler","TimeSlice","getObjectValues","isEmpty","mapObject"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_NAME,k=c("NotificationJewelFunnelLoggingConstants").FUNNEL_LOGGING_EVENT,l=c("React").PropTypes,m=c("NotificationConstants").PayloadSourceType.LIVE_SEND,n="notification_clicked";function o(q){return{classification:q.classification,endpointURI:q.endpoint!=null?q.endpoint:c("NotificationsDefaultEndpointURI"),filter:q.filter}}h=babelHelpers.inherits(p,c("React").Component);i=h&&h.prototype;function p(q){__p&&__p();var r;"use strict";for(var s=arguments.length,t=Array(s>1?s-1:0),u=1;u<s;u++)t[u-1]=arguments[u];(r=i.constructor).call.apply(r,[this,q].concat(t));this.$NotificationList1={};this.$NotificationList2=false;this.$NotificationList3=new(c("SubscriptionsHandler"))();this.$NotificationList4=0;this.$NotificationList9=function(){var x={};Object.keys(this.$NotificationList1).forEach(function(y){var z=c("NotificationHiddenState").isHidden(y);if(z!=this.state.hiddenState[y])x[y]=z}.bind(this));if(!c("isEmpty")(x))this.setState({hiddenState:babelHelpers["extends"]({},this.state.hiddenState,x)});this.$NotificationList1={};this.$NotificationList8(c("NotificationStore").getCount(o(this.props)))}.bind(this);this.$NotificationList11=function(x,y,z){if(this.state.currentlyFetching||!this.state.canFetchMore)return;if(x){c("FunnelLogger").appendAction(j,k.FETCH_NEXT_SET);this.$NotificationList10()}this.$NotificationList12(y,z)}.bind(this);this.$NotificationList13=function(){this.setState({showingChevron:true})}.bind(this);this.$NotificationList14=function(){this.setState({showingChevron:false})}.bind(this);this.$NotificationList17=function(x){c("Arbiter").inform(n,{endpointConfig:o(this.props),alertID:x})}.bind(this);this.$NotificationList18=function(x){if(this.props.paused&&this.props.filter==="unread"){var y=babelHelpers["extends"]({},this.state.readWhilePausedOrNavigating);y[x]=true;this.setState({readWhilePausedOrNavigating:y})}}.bind(this);this.$NotificationList19=function(x){this.$NotificationList4=x}.bind(this);var v=o(q);c("NotificationStore").registerEndpoint(v);var w=c("NotificationStore").getAll(v);this.state={currentlyFetching:false,canFetchMore:c("NotificationStore").canFetchMore(v),notifs:w,hiddenState:c("mapObject")(w,function(x,y){return c("NotificationHiddenState").isHidden(y)}),readState:c("mapObject")(w,function(x,y){return c("NotificationSeenState").isRead(y)}),showingChevron:false,readWhilePausedOrNavigating:{}}}p.prototype.componentWillMount=function(){"use strict";__p&&__p();c("FunnelLogger").appendAction(j,k.FETCH_NOTIFICATIONS);this.$NotificationList3.addSubscriptions(c("NotificationUpdates").subscribe("notifications-updated",function(q,r){if(r.source==m&&!c("isEmpty")(r.updates)){this.$NotificationList2=true;var s=this.props.paused;if(s){this.$NotificationList1=babelHelpers["extends"]({},this.$NotificationList1,r.updates);return}}this.$NotificationList5(c("NotificationStore").getAll(o(this.props)))}.bind(this)),c("NotificationUpdates").subscribe(["hidden-state-updated","read-state-updated"],function(q,r){__p&&__p();if(q=="hidden-state-updated"){if(r.source!==m||!this.props.paused){var s=c("mapObject")(r.updates,function(u,v){return c("NotificationHiddenState").isHidden(v)});this.setState({hiddenState:babelHelpers["extends"]({},this.state.hiddenState,s)})}}else{var t=c("mapObject")(r.updates,function(u,v){return c("NotificationSeenState").isRead(v)});this.setState({readState:babelHelpers["extends"]({},this.state.readState,t)})}}.bind(this)))};p.prototype.componentWillUnmount=function(){"use strict";this.$NotificationList3.release()};p.prototype.componentWillReceiveProps=function(q){"use strict";if(!this.$NotificationList6(q)&&q.paused)return;if(this.props.enableHubView&&this.props.filter==="unread")return;this.setState({readWhilePausedOrNavigating:{}})};p.prototype.$NotificationList6=function(q){"use strict";return q.filter!==this.props.filter||q.classification!==this.props.classification};p.prototype.$NotificationList7=function(q){"use strict";__p&&__p();var r=Object.keys(this.state.notifs),s=Object.keys(q).filter(function(u){return!this.state.notifs[u]}.bind(this));r=r.concat(s);var t={};r.forEach(function(u){if(this.$NotificationList1[u]){if(this.state.notifs[u])t[u]=this.state.notifs[u]}else t[u]=q[u]||this.state.notifs[u]}.bind(this));return t};p.prototype.$NotificationList5=function(q){"use strict";var r=c("isEmpty")(this.$NotificationList1)?q:this.$NotificationList7(q),s={},t={};c("getObjectValues")(r).forEach(function(v){var w=v.alert_id;s[w]=c("NotificationSeenState").isRead(w);t[w]=c("NotificationHiddenState").isHidden(w)});var u=o(this.props);this.setState({notifs:r,canFetchMore:c("NotificationStore").canFetchMore(u)||c("NotificationStore").getCount(u)!==Object.keys(r).length,readState:babelHelpers["extends"]({},this.state.readState,s),hiddenState:babelHelpers["extends"]({},this.state.hiddenState,t)})};p.prototype.$NotificationList8=function(q){"use strict";this.setState({currentlyFetching:true});this.$NotificationList3.addSubscriptions(c("NotificationStore").getNotifications(q,o(this.props),function(r){this.setState({currentlyFetching:false});this.$NotificationList5(r)}.bind(this)))};p.prototype.$NotificationList10=function(){"use strict";if(!this.state.currentlyFetching){var q=Object.keys(this.state.notifs).length;this.$NotificationList8(q+this.props.numPerPage)}};p.prototype.$NotificationList12=function(q,r){"use strict";__p&&__p();if(!q||!r)return;for(var s=0,t=q.children.length;s<t;s++){var u=q.children[s];if(u){var v=u.getAttribute("data-alert-id");if(v&&!c("NotificationVPVs").hasLoggedImpression(v)){var w=c("NotificationVPVs").getValidatedRectangle(u);if(w&&c("NotificationVPVs").areRectsOverlapping(r,w))c("NotificationVPVs").logImpression(v)}}}};p.prototype.$NotificationList15=function(q){"use strict";if(c("NotificationListConfig").requestFullViewportOfNotificationsOnFirstOpen){var r=Math.max(this.props.numPerPage,Math.ceil(this.$NotificationList4)),s=r-q.length;if(s>0)this.$NotificationList8(s)}else if(q.length>this.props.numPerPage)this.$NotificationList8(q.length);else this.$NotificationList10()};p.prototype.$NotificationList16=function(q){"use strict";__p&&__p();var r=c("NotificationSeenState").getUnseenIDs();if(!c("isEmpty")(this.$NotificationList1))r=r.filter(function(s){return!this.$NotificationList1[s]}.bind(this));if(r.length&&(this.props.paused||this.props.enableHubView))c("TimeSlice").guard(function(){return c("NotificationUserActions").markNotificationsAsSeen(r)},"NotificationList _populateList markNotificationsAsSeen",{isContinuation:false})();if(this.props.hasEverBeenOpened)if(!q||!q.hasEverBeenOpened)this.$NotificationList15(r)};p.isReaction=function(q){"use strict";return q===c("NotifType").LIKE||q===c("NotifType").OPEN_GRAPH_ACTION_LIKE||q===c("NotifType").LIKE_TAGGED||q===c("NotifType").PAGE_FAN||q===c("NotifType").IG_MEDIA_LIKE||q===c("NotifType").FEEDBACK_REACTION_GENERIC||q===c("NotifType").FEEDBACK_REACTION_GENERIC_TAGGED||q===c("NotifType").MESSENGER_REACTIONS};p.prototype.componentDidUpdate=function(q){__p&&__p();var r,s=this,t;"use strict";this.$NotificationList16(q);if(q.paused&&!this.props.paused){var r=function(){s.$NotificationList2=false;var u=setTimeout(s.$NotificationList9,0);s.$NotificationList3.addSubscriptions({remove:function v(){clearTimeout(u)}});return{v:void 0}}();if(typeof r==="object")return r.v}if(this.props.paused&&this.$NotificationList6(q)){var t=function(){var u=setTimeout(s.$NotificationList9,0);s.$NotificationList3.addSubscriptions({remove:function v(){clearTimeout(u)}});return{v:void 0}}();if(typeof t==="object")return t.v}};p.prototype.componentDidMount=function(){"use strict";this.$NotificationList16()};p.prototype.render=function(){__p&&__p();var q;"use strict";var r=this.props.listRenderer,s=this.state,t=s.notifs,u=s.readState,v=s.readWhilePausedOrNavigating,w={};if(this.props.filter==null)w=t;else Object.keys(t).forEach(function(z){var A=t[z],B=A.alert_id,C=u[B];if(this.props.filter==="unread")C=!C||Object.prototype.hasOwnProperty.call(v,B);if(C)w[B]=A}.bind(this));if(this.props.hideReactions)(function(){var z={};Object.keys(w).forEach(function(A){var B=t[A];if(!p.isReaction(B.notif_type))z[B.alert_id]=B});w=z})();var x=this.props.classification;if(x)Object.keys(t).forEach(function(z){var A=t[z];if(!A.classifications||!A.classifications.includes(x))delete w[A.alert_id]});var y=!c("NotificationBucketStore").isEmptyBucketListData()?c("NotificationBucketStore").getBucketListData():null;return c("React").createElement(r,{paused:this.props.paused,tracking:this.props.tracking,shortenTimestamp:this.props.shortenTimestamp,maxHeight:this.props.maxHeight,useChevron:this.props.useChevron,chevronType:this.props.chevronType,buckets:y,notifs:w,afterScroll:this.$NotificationList11,onChevronShow:this.$NotificationList13,onChevronHide:this.$NotificationList14,currentlyFetching:this.state.currentlyFetching,canFetchMore:this.state.canFetchMore,hiddenState:this.state.hiddenState,readState:this.state.readState,showingChevron:this.state.showingChevron,shouldScroll:this.$NotificationList2,upsell:this.props.upsell||null,isRHC:this.props.isRHC,enableMarkUnread:this.props.enableMarkUnread,onClick:this.$NotificationList17,onRead:this.$NotificationList18,onNumNotificationsViewableChange:this.$NotificationList19})};p.propTypes={hasEverBeenOpened:l.bool,enableHubView:l.bool,enableMarkUnread:l.bool,maxHeight:l.number,paused:l.bool,tracking:l.string,useChevron:l.bool,chevronType:l.string,numPerPage:l.number.isRequired,listRenderer:l.func.isRequired,upsell:l.object,endpoint:l.string,filter:l.string,classification:l.string};f.exports=p}),null);
__d("NotificationListDelightUtils",["RelationshipDelightUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=-1,i={canShowHeartDelight:function j(k,l,m){if(l)return false;if(!c("RelationshipDelightUtils").shouldHeartNotification(k))return false;if(h<0||h>m)h=m;return true},getFirstDelightRow:function j(){return h}};f.exports=i}),null);
__d("NotificationListDelights.react",["cx","BootloadedComponent.react","JSResource","NotificationListDelightUtils","NotificationSeenState","React","RelationshipDelightUtils"],(function a(b,c,d,e,f,g,h){"use strict";var i=-1;function j(k){var l=k.rowIndex,m=k.notification,n=m.alert_id,o=c("NotificationListDelightUtils").getFirstDelightRow()===l&&!c("NotificationSeenState").isSeen(n)?1:2;c("RelationshipDelightUtils").logNotificationAnimation(n,o,l);return c("React").createElement("div",{className:"_3u5l _3u5m"},c("React").createElement(c("BootloadedComponent.react"),{bootloadPlaceholder:c("React").createElement("div",null),bootloadLoader:c("JSResource")("RelationshipDelightsActorAnimation.react").__setRef("NotificationListDelights.react"),animationPhase:o}))}f.exports=j}),null);
__d("NotificationListItemChevron.react",["cx","AbstractPopoverButton.react","Banzai","BanzaiLogger","NotificationTokens","NotifTestIDs","PopoverMenu.react","QE2Logger","React","ReactXUIMenu","idx","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("ReactXUIMenu").Item;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$NotificationListItemChevron1=function(){if(this.props.onHide)this.props.onHide();this.$NotificationListItemChevron2("close")}.bind(this),this.$NotificationListItemChevron3=function(){if(this.props.onShow)this.props.onShow();if(this.props.logMenuExposure)c("QE2Logger").logExposureForUser("pages_growth_optout_button");this.$NotificationListItemChevron2("open");var r={notif_type:this.props.notif_type};c("Banzai").post("notif_chevron_on_click",r)}.bind(this),n}l.prototype.$NotificationListItemChevron2=function(m){var n={event:m,notif_type:this.props.notif_type,notif_id:parseInt(c("NotificationTokens").untokenizeIDs([this.props.alert_id])[0],10)};c("BanzaiLogger").log("NotifJewelMenuLoggerConfig",n)};l.prototype.$NotificationListItemChevron4=function(){__p&&__p();var m=this.props.notificationOptions,n=m&&m.map(function(o){var p,q,r=(p=o)!=null?(p=p.option_display)!=null?(p=p.text)!=null?p.text:p:p:p;if(r==null)return null;var s=o.server_action||"",t=((q=o)!=null?(q=q.client_info)!=null?q.action_type:q:q)||"";return c("React").createElement(k,{onclick:function(){return this.props.onMenuOptionClick(o)}.bind(this),key:t+":"+s},c("React").createElement("div",{className:"_18qh"},r))}.bind(this)).filter(function(o){return o!=null});if(n==null||n.length===0)return null;return c("React").createElement(c("ReactXUIMenu"),null,n)};l.prototype.render=function(){var m=this.$NotificationListItemChevron4();if(!m)return null;var n={button:c("React").createElement("a",{href:"#","aria-label":"Notification options",className:"_1_0d"})},o=c("React").createElement(c("PopoverMenu.react"),{"data-testid":c("NotifTestIDs").CHEVRON,alignh:"right",menu:m,className:c("joinClasses")(this.props.className,"_1_0c"),disableArrowKeyActivation:true,onShow:this.$NotificationListItemChevron3,onHide:this.$NotificationListItemChevron1},c("React").createElement(c("AbstractPopoverButton.react"),{config:n,haschevron:false,image:null,label:null}));return o};f.exports=l}),null);
__d("NotificationThumbnail.react",["Image.react","React","RoundImage.react","SutroGatingConfig"],(function a(b,c,d,e,f,g){"use strict";var h=c("SutroGatingConfig").avatar;function i(j){if(h.has_rounded_avatars)return c("React").createElement(c("RoundImage.react"),j);else return c("React").createElement(c("Image.react"),j)}f.exports=i}),null);
__d("NotificationListItemContents.react",["cx","ix","BizSiteIdentifier.brands","FlexibleBlock.react","ImageBlock.react","NotificationAttachment.react","NotificationFooter.react","NotificationInterpolator","NotificationThumbnail.react","React","TextWithEntities.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("BizSiteIdentifier.brands").isBizSite(),m=i("97000");j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;n.prototype.$NotificationListItemContents1=function(){var o=this.props.notification.title;if(!o)return null;return c("React").createElement(c("TextWithEntities.react"),babelHelpers["extends"]({interpolator:c("NotificationInterpolator")},o,{renderEmoji:true,renderEmoticons:true}))};n.prototype.render=function(){var o=this.$NotificationListItemContents1(),p=this.props,q=p.hideIcon,r=p.isNotifsPage,s=p.noPhotoPreviews,t=p.shortenTimestamp,u=p.notification,v=u.icon,w=u.previewImage,x=u.thumbnail,y=u.timestamp,z=c("React").createElement(c("NotificationFooter.react"),{icon:q?null:v,shortenTimestamp:t,timestamp:y});return c("React").createElement(c("ImageBlock.react"),null,c("React").createElement(c("NotificationThumbnail.react"),{alt:"",className:(!r?"_62bh":"")+(r?" _62bi":""),src:x&&x.uri||m}),c("React").createElement(c("FlexibleBlock.react"),{flex:c("FlexibleBlock.react").FLEX.left},c("React").createElement("div",{className:"_4l_v"},o,z),s?null:c("React").createElement(c("NotificationAttachment.react"),{image:w})))};function n(){j.apply(this,arguments)}f.exports=n}),null);
__d("NotificationListItemOptionConfirmation.react",["cx","fbt","List.react","NotificationInterpolator","React","TextWithEntities.react","idx"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(k){var l=k.notificationOptions,m=k.undoText,n=k.undoToken;return[m!=null||n!=null?c("React").createElement("div",{className:"_4ai",key:"options"},m!=null?c("React").createElement(c("TextWithEntities.react"),{interpolator:c("NotificationInterpolator"),ranges:m.ranges,aggregatedranges:m.aggregated_ranges,text:m.text}):null,n!=null?c("React").createElement("a",{href:"#",onClick:function o(){return k.onUndoClick()},className:"mls"},i._("Undo")):null):null,c("React").createElement(c("List.react"),{border:"none",className:"_1v4c",key:"followups",spacing:"small"},l?l.map(function(o){var p,q,r=(p=o)!=null?(p=p.option_display)!=null?(p=p.text)!=null?p.text:p:p:p;if(r==null)return null;var s=o.server_action||"",t=((q=o)!=null?(q=q.client_info)!=null?q.action_type:q:q)||"";return c("React").createElement("li",{key:t+":"+s},c("React").createElement("a",{className:"mls",href:"#",onClick:function u(){return k.onMenuOptionClick(o)}},r))}):null)]}f.exports=j}),null);
__d("NotificationListItemReadToggle.react",["cx","fbt","React","ReadToggle.react"],(function a(b,c,d,e,f,g,h,i){"use strict";function j(k){var l=k.isRead,m=k.canMarkUnread,n=k.onToggleClick;return c("React").createElement(c("ReadToggle.react"),{className:"_55m9 _55ma",isRead:l,onClick:n,readLabel:m?i._("Mark as Unread"):i._("Read"),unreadLabel:i._("Mark as Read")})}f.exports=j}),null);
__d("NotificationListItemBase.react",["csx","cx","invariant","AsyncDialog","AsyncResponse","BizSiteIdentifier.brands","Bootloader","LogicalGridCell.react","LogicalGridRow.react","NotificationConstants","NotificationListConfig","NotificationListItemChevron.react","NotificationListItemContents.react","NotificationListItemOptionConfirmation.react","NotificationListItemReadToggle.react","NotificationTracking","NotificationUpdates","NotificationUserActions","NotifTestIDs","Parent","React","ReactDOM","Style","URI","compactArray","createObjectFrom","idx"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k,l,m=c("BizSiteIdentifier.brands").isBizSite(),n=-1;function o(q){if(q.length===0)return;var r=q[0],s=r.description,t=r.is_silent,u=r.is_transient,v=r.message,w=new(c("AsyncResponse"))();w.errorSummary=s;w.errorDescription=v;w.silentError=t;w.transientError=u;c("AsyncResponse").defaultErrorHandler(w)}k=babelHelpers.inherits(p,c("React").Component);l=k&&k.prototype;function p(){__p&&__p();var q,r;"use strict";for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=l.constructor).call.apply(q,[this].concat(t)),this.prefetched=false,this.isLiveVideo=null,this.$NotificationListItemBase1=false,this.state={actionsTaken:[],sendingFeedback:false},this.$NotificationListItemBase4=function(){c("NotificationUserActions").setNextIsFromReadButton(true);if(this.props.isRead){if(this.props.canMarkUnread)if(this.props.onMarkItemUnread)this.props.onMarkItemUnread()}else if(this.props.onMarkItemRead)this.props.onMarkItemRead()}.bind(this),this.$NotificationListItemBase7=function(v){__p&&__p();var w,x,y=this,z=(w=v)!=null?(w=w.client_info)!=null?w.action_type:w:w;if(z==null)return;if(z==="REPORT_BUG"){var A=new(c("URI"))("/ajax/bugs/employee_report").setQueryData({client_notifs:JSON.stringify(this.props.getDebugData()),notif_alert_id:this.$NotificationListItemBase3()});c("AsyncDialog").bootstrap(A.toString(),null,"dialog")}else if(z==="OPEN_IN_INSPECTOR"){var B,C=(B=v)!=null?(B=B.option_display)!=null?(B=B.subtext)!=null?B.text:B:B:B;C!=null||j(0);window.open(C,"_blank")}else{var x=function(){__p&&__p();var D=v.server_action;if(D==null)return{v:void 0};y.setState({sendingFeedback:true});c("NotificationUserActions").sendNotifOption(D).done(function(E){if(this.$NotificationListItemBase1)return;this.setState(function(F){var G,H,I,J=(G=E)!=null?(G=G.notif_option_action)!=null?(G=G.notification)!=null?(G=G.notif_option_sets)!=null?(G=G.edges)!=null?(G=G[0])!=null?(G=G.node)!=null?(G=G.notif_options)!=null?G.edges:G:G:G:G:G:G:G:G,K=babelHelpers["extends"]({},F,{actionsTaken:F.actionsTaken.concat([{actionToken:D,type:z,nextNotificationOptions:J&&c("compactArray")(J.map(function(L){var M=L.node;return M})),undoText:(H=v)!=null?(H=H.option_display)!=null?H.undo_text:H:H,undoToken:(I=v)!=null?(I=I.client_info)!=null?I.undo_server_action:I:I}]),sendingFeedback:false});c("NotificationUpdates").handleUpdate(c("NotificationConstants").PayloadSourceType.USER_ACTION,{hiddenState:c("createObjectFrom")([this.$NotificationListItemBase3()],this.$NotificationListItemBase10(K))});return K}.bind(this))}.bind(y),y.$NotificationListItemBase12)}();if(typeof x==="object")return x.v}}.bind(this),this.$NotificationListItemBase13=function(){__p&&__p();var v=this.$NotificationListItemBase3();this.setState({sendingFeedback:true});var w=this.state.actionsTaken[this.state.actionsTaken.length-1];if(w&&w.undoToken!=null)c("NotificationUserActions").sendNotifOption(w.undoToken).done(function(x){if(this.$NotificationListItemBase1)return;this.setState(function(y){var z=babelHelpers["extends"]({},y,{actionsTaken:y.actionsTaken.slice(0,this.state.actionsTaken.length-1),sendingFeedback:false});c("NotificationUpdates").handleUpdate(c("NotificationConstants").PayloadSourceType.USER_ACTION,{hiddenState:c("createObjectFrom")([v],this.$NotificationListItemBase10(z))});return z}.bind(this))}.bind(this),this.$NotificationListItemBase12)}.bind(this),this.$NotificationListItemBase12=function(v){var w=v.errors;if(this.$NotificationListItemBase1)return;o(w);this.setState({sendingFeedback:false})}.bind(this),r}p.prototype.$NotificationListItemBase3=function(){"use strict";return this.props.notification.alert_id};p.prototype.$NotificationListItemBase5=function(){"use strict";var q=this.props,r=q.canMarkUnread,s=q.isRead;return c("React").createElement(c("NotificationListItemReadToggle.react"),{canMarkUnread:r,isRead:!!s,onToggleClick:this.$NotificationListItemBase4})};p.prototype.$NotificationListItemBase6=function(){var q;"use strict";var r=this.props,s=r.onChevronHide,t=r.onChevronShow,u=r.notification,v=u.alert_id,w=u.notif_option_sets,x=u.notif_type,y=u.renderer_data,z=false;if(y&&(y.__typename==="FallbackNotificationRendererData"||y.__typename==="LiveVideoNotificationRendererData")&&y.should_log_menu_exposure!=null)z=y.should_log_menu_exposure;var A=(q=w)!=null?(q=q.edges)!=null?(q=q[0])!=null?(q=q.node)!=null?(q=q.notif_options)!=null?q.edges:q:q:q:q:q;return c("React").createElement(c("NotificationListItemChevron.react"),{alert_id:v,className:"_55m9",notif_type:x,notificationOptions:A&&c("compactArray")(A.map(function(B){var C=B.node;return C})),onHide:s,onMenuOptionClick:this.$NotificationListItemBase7,onShow:t,logMenuExposure:z})};p.prototype.shouldComponentUpdate=function(q,r){"use strict";var s=this.props.visible!==q.visible||this.props.isRead!==q.isRead||this.props.isSelected!==q.isSelected||this.props.notification.timestamp!==q.notification.timestamp||this.state.actionsTaken.length!==r.actionsTaken.length||this.state.sendingFeedback!==r.sendingFeedback;return s||!!this.props.hasCustomForeground&&this.props.paused!==q.paused};p.prototype.componentWillUpdate=function(q){"use strict";if(!this.$NotificationListItemBase2||!q.isSelected||this.props.isSelected)return;var r=c("ReactDOM").findDOMNode(this.$NotificationListItemBase2);r&&r.scrollIntoViewIfNeeded&&r.scrollIntoViewIfNeeded(false)};p.prototype.componentWillReceiveProps=function(q){"use strict";if(this.props.paused&&!q.paused&&!this.props.visible&&this.state.actionsTaken.length>0)this.setState({actionsTaken:[]})};p.prototype.componentDidMount=function(){"use strict";if(this.$NotificationListItemBase8())c("Bootloader").loadModules(["VideoPlayerMetaData"],function(q){q.genVideoData(this.$NotificationListItemBase9()).done()}.bind(this),"NotificationListItemBase.react")};p.prototype.componentDidUpdate=function(){"use strict";if(this.props.enableHubView&&this.props.isSelected&&this.$NotificationListItemBase2){var q=c("ReactDOM").findDOMNode(this.$NotificationListItemBase2);if(q&&typeof q.focus=="function")q.focus()}};p.prototype.$NotificationListItemBase10=function(){var q=arguments.length<=0||arguments[0]===undefined?this.state:arguments[0];"use strict";return q.actionsTaken.some(function(r){return r.type==="HIDE"})};p.prototype.$NotificationListItemBase11=function(){"use strict";var q=c("ReactDOM").findDOMNode(this);if(!q)return false;var r=c("Parent").bySelector(q,".__tw"),s=r?r.parentNode:null;return s?c("Style").get(s,"display")!=="none":false};p.prototype.$NotificationListItemBase14=function(q){"use strict";if(this.state.actionsTaken.length>=2)return null;var r={};this.state.actionsTaken.forEach(function(s){r[s.actionToken]=true});return q.filter(function(s){var t=s.server_action;return t==null||r[t]!==true})};p.prototype.$NotificationListItemBase9=function(){"use strict";var q=c("NotificationTracking").getEncodedTrackingData(this.props.notification,this.props.row);return q.content_id||null};p.prototype.$NotificationListItemBase8=function(){"use strict";if(this.isLiveVideo===null){var q=c("NotificationTracking").getTrackingString(this.props.notification,this.props.row);this.isLiveVideo=q.indexOf("live_video")!==-1}return!!this.isLiveVideo};p.prototype.render=function(){"use strict";__p&&__p();if(!this.props.visible&&!this.$NotificationListItemBase10())return c("React").createElement("li",{className:"_4_62"});var q="_33c"+(c("NotificationListConfig").isWork?" _1rqj":"")+(!this.props.isRead?" jewelItemNew":"")+(this.state.sendingFeedback?" _4m8s":"")+(this.props.hasCustomForeground?" _3u5n":"")+(this.props.isSelected?" _u-o":""),r=c("NotificationTracking").getTrackingString(this.props.notification,this.props.row),s=this.props.rowIndex;if(this.state.actionsTaken.length>0){var t=this.state.actionsTaken[this.state.actionsTaken.length-1];return c("React").createElement("li",{className:q,"data-gt":r,"data-testid":c("NotifTestIDs").NOTIF_LIST_ITEM},c("React").createElement(c("LogicalGridRow.react"),{className:"_dre",rowIndex:s,component:c("React").createElement("div",null)},c("React").createElement(c("LogicalGridCell.react"),{columnIndex:0,component:c("React").createElement("div",null)},c("React").createElement(c("NotificationListItemOptionConfirmation.react"),{notificationOptions:t.nextNotificationOptions?this.$NotificationListItemBase14(t.nextNotificationOptions):null,onUndoClick:this.$NotificationListItemBase13,onMenuOptionClick:this.$NotificationListItemBase7,undoText:t.undoText,undoToken:t.undoToken}))))}var u=c("React").createElement(c("NotificationListItemContents.react"),this.props),v=this.props.renderLink(u);return c("React").createElement("li",{className:q,"data-gt":r,"data-alert-id":this.$NotificationListItemBase3(),"data-testid":c("NotifTestIDs").NOTIF_LIST_ITEM},c("React").createElement(c("LogicalGridRow.react"),{className:"_dre anchorContainer",rowIndex:s,component:c("React").createElement("div",null)},c("React").createElement(c("LogicalGridCell.react"),{columnIndex:0,component:c("React").createElement("div",null)},v),c("React").createElement("ul",{className:"_55mc"},c("React").createElement(c("LogicalGridCell.react"),{columnIndex:1,component:c("React").createElement("li",{className:"_h_c"})},this.$NotificationListItemBase5()),c("React").createElement(c("LogicalGridCell.react"),{columnIndex:2,component:c("React").createElement("li",{className:"_h_d"}),disableFocusRecovery:true},this.$NotificationListItemBase6()))))};f.exports=p}),null);
__d("NotificationListItem.react",["cx","Bootloader","Event","Keys","Link.react","NotificationListConfig","NotificationListDelights.react","NotificationListDelightUtils","NotificationListItemBase.react","NotificationListRendererUtils","NotificationURI","NotificationUserActions","PageTransitions","React","URI"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;function k(){__p&&__p();var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=j.constructor).call.apply(l,[this].concat(o)),this.$NotificationListItem6=function(q){this.props.onClick&&this.props.onClick(this.$NotificationListItem4());this.$NotificationListItem7(q);c("NotificationListRendererUtils").openNotification(q,this.props.notification)}.bind(this),this.$NotificationListItem8=function(q){if(c("Event").getKeyCode(q.nativeEvent)==c("Keys").RETURN){var r=this.$NotificationListItem4();this.props.onSelected&&this.props.onSelected(r);this.$NotificationListItem7(q)}}.bind(this),this.$NotificationListItem7=function(q){var r=this.$NotificationListItem4();if(this.props.onRead&&q)this.props.onRead(r);c("NotificationUserActions").markNotificationsAsRead([r],null)}.bind(this),this.$NotificationListItem9=function(){var q=this.$NotificationListItem4();c("NotificationUserActions").markNotificationsAsUnread([q],null)}.bind(this),this.$NotificationListItem11=function(q){var r=c("NotificationURI").localize(new(c("URI"))(this.props.notification.url));return c("React").createElement("a",babelHelpers["extends"]({},this.props.notification.primerAttributes,{href:r,role:"button",tabIndex:0,className:"_33e _1_0e",onClick:this.$NotificationListItem5.bind(this,r),onClickCapture:this.$NotificationListItem6,onKeyUp:this.$NotificationListItem8}),q,this.$NotificationListItem10())}.bind(this),m}k.prototype.$NotificationListItem2=function(){return c("NotificationListConfig").canMarkUnread||(this.props.enableHubView||false)&&c("NotificationListConfig").canMarkUnreadInHub};k.prototype.$NotificationListItem3=function(){var l=this.props,m=l.notification,n=l.isRead,o=l.rowIndex;return c("NotificationListDelightUtils").canShowHeartDelight(m,n,o)};k.prototype.$NotificationListItem4=function(){return this.props.notification.alert_id};k.prototype.$NotificationListItem5=function(l,m){__p&&__p();var n,o=this.props.notification,p=o.primerAttributes,q=o.url;if(p&&p.ajaxify)(function(){var u=new(c("URI"))(p.ajaxify),v=u.getQueryData(),w=v.app_id,x=v.page_id,y=v.post_id,z=v.ref;if(z==="aymt_auto_opened_dialog")c("Bootloader").loadModules(["BoostedComponentAYMTActionsV2"],function(A){A.aymtAutoOpenDialogLinkClick(w,x,y,"",z)},"NotificationListItem.react")})();else if(q){var r=new(c("URI"))(q),s=r.getQueryData(),t=s.aymt_tip;if(t==="1")c("PageTransitions").go(r.addQueryData("aymt_link_click",Date.now()))}};k.prototype.$NotificationListItem10=function(){if(!this.$NotificationListItem3()||!this.props.paused)return null;return c("React").createElement(c("NotificationListDelights.react"),{notification:this.props.notification,rowIndex:this.props.rowIndex})};k.prototype.render=function(){return c("React").createElement(c("NotificationListItemBase.react"),babelHelpers["extends"]({},this.props,{canMarkUnread:this.$NotificationListItem2(),hasCustomForeground:this.$NotificationListItem3(),renderLink:this.$NotificationListItem11,onMarkItemRead:this.$NotificationListItem7,onMarkItemUnread:this.$NotificationListItem9,hideIcon:false}))};f.exports=k}),null);
__d("NotificationListPropTypes",["React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i={tracking:h.string,notifs:h.object,afterScroll:h.func,onChevronShow:h.func,onChevronHide:h.func,onRead:h.func,canFetchMore:h.bool,hiddenState:h.object,readState:h.object,showingChevron:h.bool,paused:h.bool,maxHeight:h.number,shouldScroll:h.bool,listItemRenderer:h.func};f.exports=i}),null);
__d("NotificationPageList.react",["cx","fbt","ErrorBoundary.react","Event","LoadingIndicator.react","LogicalGrid.react","NotificationListItem.react","NotificationListPropTypes","NotifTestIDs","React","ReactDOM","Vector","debounce","getObjectValues","getViewportDimensions","isEmpty"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.$NotificationPageList5=function(){var r=c("ReactDOM").findDOMNode(this.$NotificationPageList2),s=this.$NotificationPageList4();if(this.props.afterScroll)this.props.afterScroll(this.$NotificationPageList3(),r,s)}.bind(this),this.$NotificationPageList7=function(){return c("getObjectValues")(this.props.notifs).map(function(r){return JSON.stringify(r)})}.bind(this),n}l.prototype.$NotificationPageList3=function(){"use strict";if(!this.$NotificationPageList1)return false;var m=c("ReactDOM").findDOMNode(this.$NotificationPageList1);if(!m)return false;var n=c("Vector").getElementPosition(m,"viewport").y;return n<c("Vector").getViewportDimensions().y};l.prototype.$NotificationPageList4=function(){"use strict";var m=c("getViewportDimensions").withoutScrollbars();return{top:0,bottom:m.height,left:0,right:m.width}};l.prototype.$NotificationPageList6=function(m,n){"use strict";return n.indexOf(m)};l.prototype.componentDidUpdate=function(){"use strict";this.$NotificationPageList5()};l.prototype.componentDidMount=function(){"use strict";c("Event").listen(window,"scroll",c("debounce")(this.$NotificationPageList5,200));this.$NotificationPageList5()};l.prototype.$NotificationPageList8=function(){"use strict";var m=c("getObjectValues")(this.props.notifs).map(function(o){return o.alert_id}),n=this.props.listItemRenderer;return c("getObjectValues")(this.props.notifs).map(function(o,p){var q=o.alert_id,r=this.$NotificationPageList6(q,m);return c("React").createElement(c("ErrorBoundary.react"),{key:q},c("React").createElement(n,{getDebugData:this.$NotificationPageList7,enableMarkUnread:this.props.enableMarkUnread,isNotifsPage:true,isRead:this.props.readState[q],isSelected:this.props.selectedID===q,noPhotoPreviews:true,notification:o,onRead:this.props.onRead,onChevronHide:this.props.onChevronHide,onChevronShow:this.props.onChevronShow,paused:!!this.props.paused,row:r,rowIndex:p,shortenTimestamp:this.props.shortenTimestamp,visible:!this.props.hiddenState[q]}))}.bind(this))};l.prototype.render=function(){"use strict";__p&&__p();var m=null,n=null,o=c("React").createElement("ul",{"data-gt":this.props.tracking,"data-testid":c("NotifTestIDs").SEE_ALL_LIST});if(!c("isEmpty")(this.props.notifs))m=c("React").createElement(c("LogicalGrid.react"),{ref:function(s){return this.$NotificationPageList2=s}.bind(this),component:o},this.$NotificationPageList8());else if(!this.props.canFetchMore)m=c("React").createElement("div",{className:"_44_s","data-testid":c("NotifTestIDs").SEE_ALL_LIST},i._("No new notifications"));if(this.props.canFetchMore)n=c("React").createElement(c("LoadingIndicator.react"),{color:"white",size:"large",ref:function(s){return this.$NotificationPageList1=s}.bind(this),className:"_44_t"});var p=null;if(this.props.upsell){var q=this.props.upsell.module;p=c("React").createElement(q,babelHelpers["extends"]({isPage:true},this.props.upsell.props))}var r="_44_u"+(this.props.showingChevron?" _44_v":"");return c("React").createElement("div",{className:r},p,m,n)};l.propTypes=c("NotificationListPropTypes");l.defaultProps={listItemRenderer:c("NotificationListItem.react")};f.exports=l}),null);
__d("DeprecatedCSSMiscellany",["$","ge","CSS"],(function a(b,c,d,e,f,g){__p&&__p();function h(){for(var m=0;m<arguments.length;m++){var n=c("ge")(arguments[m]);if(n)c("CSS").show(n)}return false}function i(){for(var m=0;m<arguments.length;m++){var n=c("ge")(arguments[m]);if(n)c("CSS").hide(n)}return false}function j(m){m=c("ge")(m);if(m)return c("CSS").shown(m);else return false}function k(){for(var m=0;m<arguments.length;m++){var n=c("$")(arguments[m]);if(n)c("CSS").toggle(n)}return false}function l(){for(var m=0;m<arguments.length;m++){var n=c("$")(arguments[m]);if(n)c("CSS").toggle(n)}return false}f.exports={show:h,hide:i,shown:j,toggle:k,toggleDisplayNone:l}}),null);
__d("MobileSmsActivationController",["AsyncRequest","AsyncResponse","Dialog","goURI","ge","ReloadPage","$","DeprecatedCSSMiscellany"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("DeprecatedCSSMiscellany").hide,i=c("DeprecatedCSSMiscellany").show;function j(k,l,m,n,o,p){Object.assign(this,{profile_id:k,parent:parent,source:l,misc:m,carrier:null,AJAX_URI:"/ajax/mobile/activation.php",redirect_uri:null,cb_obj:n,status_id:p||"mobile_throbber"});if(o)this.goVerification();else this.start();j.instance=this}j.instance={};j.getInstance=function(){return j.instance};j.show_carriers=function(){var k=c("$")("selected_country").value,l=c("$")("carrier_country").value;if(k)h(c("$")(k+"_carrier_select"));c("$")("selected_country").value=l;c("$")("selected_carrier").value=0;i(c("$")(l+"_carrier_select"))};j.update_carrier=function(){var k=c("$")("selected_country").value+"_carrier_select";c("$")("selected_carrier").value=c("$")(k).value};Object.assign(j.prototype,{goStep:function k(l){if(l==2){this.getShortCode();return}else if(l==3){this.getConfirmCode();return}this.start()},start:function k(l){new(c("AsyncRequest"))().setURI(this.AJAX_URI).setData({profile_id:this.profile_id,get_carriers:1,source:this.source,misc:this.misc,error:l}).setHandler(this.showCarriers.bind(this)).setStatusElement(c("$")(this.status_id)).send()},showCarriers:function k(l){var m=l.getPayload();if(!m)return;if(this.cb_obj&&this.cb_obj.onShowCarriers)this.cb_obj.onShowCarriers(m);else new(c("Dialog"))().setTitle(m.title).setBody(m.html).setHandler(this.getShortCode.bind(this)).setButtons([c("Dialog").NEXT,c("Dialog").CANCEL]).show()},getShortCode:function k(){__p&&__p();if(!this.carrier){this.carrier=parseInt(c("$")("selected_carrier").value,10);if(!this.carrier){this.start(true);return false}}c("Dialog").getCurrent()&&c("Dialog").getCurrent().setButtonsMessage('<img src="/images/loaders/indicator_blue_small.gif" />');new(c("AsyncRequest"))().setURI(this.AJAX_URI).setData({profile_id:this.profile_id,get_code:1,carrier:this.carrier,source:this.source,misc:this.misc}).setHandler(this.showShortCode.bind(this)).send();return false},showShortCode:function k(l){var m=l.getPayload();if(this.cb_obj&&this.cb_obj.onShowShortCode)this.cb_obj.onShowShortCode(m);else new(c("Dialog"))().setTitle(m.title).setBody(m.html).setHandler(this.activate.bind(this)).setButtons([c("Dialog").NEXT,c("Dialog").CANCEL]).show()},activate:function k(){var l=c("$")("sms_code").value;if(!l)return;var m=c("ge")("profile_add");m=m?m.checked:null;var n=c("ge")("message_on");n=n?n.checked:null;new(c("AsyncRequest"))().setURI(this.AJAX_URI).setData({profile_id:this.profile_id,confirm:1,code:l,profile_add:m,message_on:n,source:this.source,misc:this.misc}).setHandler(this.confirmCode.bind(this)).setErrorHandler(this.confirmCode.bind(this)).send()},confirmCode:function k(l){__p&&__p();var m=l.getPayload();if(!l.error&&m.success)if(this.cb_obj&&this.cb_obj.onActivationSuccess)this.cb_obj.onActivationSuccess(m);else{if(m.redirect_now){c("goURI")(m.redirect,m.force_redirect);return}if(m.redirect==null)return;this.redirect_uri=m.redirect;new(c("Dialog"))().setTitle(m.title).setBody(m.html).setHandler(this.redirect.bind(this)).setButtons([c("Dialog").OK]).show()}else if(this.cb_obj&&this.cb_obj.onActivationFailure)this.cb_obj.onActivationFailure(l);else c("AsyncResponse").defaultErrorHandler.call(this,l)},redirect:function k(){if(this.redirect_uri=="reload")c("ReloadPage").now();else c("goURI")(this.redirect_uri)},goVerification:function k(){new(c("AsyncRequest"))().setURI(this.AJAX_URI).setData({profile_id:this.profile_id,show_verification:1,source:this.source,misc:this.misc}).setHandler(this.displayVerification.bind(this)).send();return false},displayVerification:function k(l){var m=l.getPayload();if(this.cb_obj&&this.cb_obj.onDisplayVerification)this.cb_obj.onDisplayVerification(m);else new(c("Dialog"))().setTitle(m.title).setBody(m.html).setHandler(this.completeVerification.bind(this,l)).setButtons([c("Dialog").OK]).show()},completeVerification:function k(l){var m=l.getPayload();if(this.cb_obj)this.cb_obj.onVerificationComplete(m)}});f.exports=j}),null);
__d("legacy:mobile-sms-activation",["MobileSmsActivationController"],(function a(b,c,d,e,f,g){b.MobileSmsActivationController=c("MobileSmsActivationController");b.mobile_activation_show_carriers=c("MobileSmsActivationController").show_carriers;b.mobile_activation_update_carrier=c("MobileSmsActivationController").update_carrier}),3);