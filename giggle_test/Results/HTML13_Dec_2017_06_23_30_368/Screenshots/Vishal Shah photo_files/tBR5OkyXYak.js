if (self.CavalryLogger) { CavalryLogger.start_js(["3n3gB"]); }

__d("HostnameRewriter",["URI","isFacebookURI","lowerFacebookDomain"],(function a(b,c,d,e,f,g){__p&&__p();var h=function h(F){return String(F).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},i=null,j=null,k=new RegExp("^(.*(?:channel-proxy|edge-chat).*)\\.(facebook\\.com)$","i"),l=new RegExp("facebook\\.com$"),m=new RegExp("^www\\.(|.*\\.)facebook\\.com$"),n=null,o="facebook.com",p=false,q=false,r=new RegExp("facebookcorewwwi\\.onion$"),s=new RegExp("facebookcorewwwi\\.testonion$"),t=new RegExp("fbcdn\\.net$"),u="fbcdn23dssr3jqnq.onion",v="fbcdn23dssr3jqnq.testonion",w=new RegExp("^www\\.");function x(F){i=null;var G;if(F)G="(^|\\.)";else G="^";n=G+h(o)+"$";j=null}function y(){if(!n)return null;if(i)return i;i=new RegExp(n,"i");return i}function z(){if(j)return j;j=new RegExp("(^|\\.)("+h(o)+"|facebook\\.com)$","i");return j}function A(){return function(F){F=new(c("URI"))(F);var G=k.exec(F.getDomain());if(!G||G.length<3)return F;F.setDomain("edge-chat."+G[2]);return F}}function B(){return function(F){F=new(c("URI"))(F);if(z().test(F.getDomain()))F.setProtocol("https");return F}}function C(){__p&&__p();return function(F){F=new(c("URI"))(F);var G=F.getDomain();if(z().test(G))F.setDomain(G.replace(l,o));else if(p&&G!==null)F.setDomain(G.replace(t,u));else if(q&&G!==null)F.setDomain(G.replace(t,v));return F}}function D(){return function(F){F=new(c("URI"))(F);var G=F.getDomain();if(m.test(G))F.setDomain(G.replace(w,"web."));return F}}var E={registerFacebookFilters:function F(G,H){o=G;p=r.test(o);q=s.test(o);x(H);c("isFacebookURI").setRegex(y());c("URI").registerFilter(A());c("URI").registerFilter(B());c("URI").registerFilter(C());c("lowerFacebookDomain").setDomain(o)},registerInternetDotOrgFilters:function F(G,H){o=G;c("URI").registerFilter(D())}};f.exports=E}),null);
__d("legacy:animation",["Animation"],(function a(b,c,d,e,f,g){b.Animation=c("Animation")}),3);